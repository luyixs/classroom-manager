{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Cookies from 'js-cookie';\nexport default {\n  components: {},\n  props: {},\n  data() {\n    return {\n      loginUser: null,\n      signInData: {\n        siCode: '',\n        cId: '',\n        uId: '',\n        createTime: '',\n        expire: ''\n      },\n      stuStates: []\n    };\n  },\n  watch: {},\n  computed: {},\n  methods: {\n    updateSignState(stateList) {\n      this.stuStates = [];\n      stateList.forEach(el => {\n        this.stuStates.push(JSON.parse(el));\n      });\n      console.log(this.stuStates);\n    },\n    handleSetSignCode(data) {\n      this.signInData = data;\n    },\n    setLoginUser() {\n      this.loginUser = this.getCookie('loginUser');\n    },\n    setCookie(key, value) {\n      Cookies.set(key, JSON.stringify(value));\n    },\n    getCookie(key) {\n      let cookieValue = Cookies.get(key);\n      if (cookieValue == undefined) {\n        return null; //cookie未定义\n      }\n\n      return JSON.parse(Cookies.get(key));\n    }\n  },\n  created() {},\n  mounted() {\n    this.setLoginUser();\n    this.$bus.$on('updateSignState', this.updateSignState);\n    this.$bus.$on('handleSetSignCode', this.handleSetSignCode);\n  },\n  beforeDestroy() {\n    this.$bus.$off('updateSignState');\n    this.$bus.$off('handleSetSignCode');\n  }\n};","map":{"version":3,"mappings":";AAiBA;AAEA;EACAA;EACAC;EACAC;IACA;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;IACA;EACA;EACAC;EACAC;EACAC;IACAC;MACA;MACAC;QACA;MACA;MACAC;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACAC;IACA;IACAC;MACA;MACA;QACA;MACA;;MACA;IACA;EAEA;EACAC;EACAC;IACA;IACA;IACA;EACA;EACAC;IACA;IACA;EACA;AACA","names":["components","props","data","loginUser","signInData","siCode","cId","uId","createTime","expire","stuStates","watch","computed","methods","updateSignState","stateList","console","handleSetSignCode","setLoginUser","setCookie","Cookies","getCookie","created","mounted","beforeDestroy"],"sourceRoot":"src/components/SignIn","sources":["SignInStateList.vue"],"sourcesContent":["<template>\r\n  <div class=\"\">\r\n    <br>\r\n    <div>\r\n      <span class=\"signinfo\" v-if=\"stuStates.length != 0\">【正在进行的签到】 签到码：{{ signInData.siCode }} 课程ID：{{ signInData.cId }}\r\n        发起者：{{ signInData.uId }} 创建时间：{{ signInData.createTime }} 期限：{{ signInData.expire }}分钟 </span>\r\n      <el-table :data=\"stuStates\" style=\"width: 100%\" current-row-key=\"id\">\r\n        <el-table-column prop=\"user.id\" label=\"学号\"></el-table-column>\r\n        <el-table-column prop=\"user.name\" label=\"姓名\"></el-table-column>\r\n        <el-table-column prop=\"user.className\" label=\"班级\"></el-table-column>\r\n        <el-table-column prop=\"state\" label=\"签到状态\"></el-table-column>\r\n      </el-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Cookies from 'js-cookie'\r\n\r\nexport default {\r\n  components: {},\r\n  props: {},\r\n  data() {\r\n    return {\r\n      loginUser: null,\r\n      signInData: {\r\n        siCode: '',\r\n        cId: '',\r\n        uId: '',\r\n        createTime: '',\r\n        expire: ''\r\n      },\r\n      stuStates: []\r\n    };\r\n  },\r\n  watch: {},\r\n  computed: {},\r\n  methods: {\r\n    updateSignState(stateList) {\r\n      this.stuStates = []\r\n      stateList.forEach(el => {\r\n        this.stuStates.push(JSON.parse(el))\r\n      })\r\n      console.log(this.stuStates)\r\n    },\r\n    handleSetSignCode(data) {\r\n      this.signInData = data\r\n    },\r\n    setLoginUser() {\r\n      this.loginUser = this.getCookie('loginUser')\r\n    },\r\n    setCookie(key, value) {\r\n      Cookies.set(key, JSON.stringify(value))\r\n    },\r\n    getCookie(key) {\r\n      let cookieValue = Cookies.get(key)\r\n      if (cookieValue == undefined) {\r\n        return null //cookie未定义\r\n      }\r\n      return JSON.parse(Cookies.get(key))\r\n    },\r\n\r\n  },\r\n  created() { },\r\n  mounted() {\r\n    this.setLoginUser()\r\n    this.$bus.$on('updateSignState', this.updateSignState)\r\n    this.$bus.$on('handleSetSignCode', this.handleSetSignCode)\r\n  },\r\n  beforeDestroy() {\r\n    this.$bus.$off('updateSignState')\r\n    this.$bus.$off('handleSetSignCode')\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.signinfo {\r\n  font-size: 12px;\r\n  color: grey;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}